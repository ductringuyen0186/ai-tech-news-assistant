# AI Tech News Assistant - Testing Environment Configuration
# This is for automated testing and CI/CD

# =============================================================================
# ENVIRONMENT CONFIGURATION (TESTING)
# =============================================================================

ENVIRONMENT=testing
DEBUG=false

# Simple secret key for testing
SECRET_KEY=test-secret-key-32-characters-long

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

APP_NAME=AI Tech News Assistant Test
APP_VERSION=1.0.0-test

# Test server configuration
HOST=127.0.0.1
PORT=8001

# No CORS restrictions for testing
ALLOWED_ORIGINS=["*"]

# =============================================================================
# DATABASE CONFIGURATION (TESTING)
# =============================================================================

# Use in-memory SQLite for testing
DATABASE_TYPE=sqlite
SQLITE_DATABASE_PATH=:memory:

# Minimal database settings for testing
DATABASE_POOL_SIZE=1
DATABASE_MAX_OVERFLOW=1
DATABASE_POOL_TIMEOUT=1

# =============================================================================
# LLM PROVIDER CONFIGURATION (TESTING)
# =============================================================================

# Use mock provider for testing
DEFAULT_LLM_PROVIDER=ollama

# Test configurations with short timeouts
OLLAMA_HOST=http://localhost:11434
OLLAMA_MODEL=llama3.2
OLLAMA_TIMEOUT=5
OLLAMA_KEEP_ALIVE=1m

# Minimal token limits for testing
OPENAI_MAX_TOKENS=100
ANTHROPIC_MAX_TOKENS=100

# =============================================================================
# VECTOR DATABASE CONFIGURATION (TESTING)
# =============================================================================

# Temporary vector database for testing
CHROMA_PERSIST_DIRECTORY=./test_data/chroma_db
VECTOR_SIMILARITY_THRESHOLD=0.5
VECTOR_MAX_RESULTS=5

# =============================================================================
# NEWS SOURCES CONFIGURATION (TESTING)
# =============================================================================

# Minimal RSS settings for testing
RSS_TIMEOUT=5
RSS_MAX_ARTICLES=10
RSS_UPDATE_INTERVAL=60

# =============================================================================
# LOGGING CONFIGURATION (TESTING)
# =============================================================================

LOG_LEVEL=DEBUG
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
# No log file for testing - use console only
LOG_MAX_SIZE=1048576
LOG_BACKUP_COUNT=1

# =============================================================================
# ERROR HANDLING & MONITORING (TESTING)
# =============================================================================

ENABLE_ERROR_MIDDLEWARE=true
ENABLE_CORRELATION_ID=false
ERROR_DETAIL_IN_RESPONSE=true

# Minimal retry settings for fast tests
DEFAULT_RETRY_ATTEMPTS=1
DEFAULT_RETRY_DELAY=0.1
CIRCUIT_BREAKER_THRESHOLD=2
CIRCUIT_BREAKER_TIMEOUT=5

# Testing monitoring
ENABLE_METRICS=false
HEALTH_CHECK_TIMEOUT=1.0

# =============================================================================
# RATE LIMITING (DISABLED FOR TESTING)
# =============================================================================

RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_WINDOW=1

# =============================================================================
# EXTERNAL SERVICE TIMEOUTS (FAST FOR TESTING)
# =============================================================================

LLM_REQUEST_TIMEOUT=5.0
EMBEDDING_REQUEST_TIMEOUT=3.0
NEWS_FETCH_TIMEOUT=3.0

# =============================================================================
# SECURITY SETTINGS (RELAXED FOR TESTING)
# =============================================================================

ENABLE_CORS=true
MAX_CONTENT_LENGTH=1048576
TRUSTED_HOSTS=["*"]

# =============================================================================
# CACHING (DISABLED FOR TESTING)
# =============================================================================

ENABLE_CACHING=false
CACHE_TTL=60
CACHE_MAX_SIZE=10

# =============================================================================
# DEVELOPMENT FEATURES (DISABLED FOR TESTING)
# =============================================================================

AUTO_RELOAD=false
ENABLE_PROFILING=false
ENABLE_DEBUG_TOOLBAR=false
